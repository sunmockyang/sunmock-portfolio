function LibraryMouse(e){function t(e,t,n){if(e)y.element.addEventListener(t,n);else y.element.removeEventListener(t,n)}this.x=this.y=0;this.mouseover=false;this.clicked=this.LClicked=this.MClicked=this.RClicked=false;this.wheelDir=0;this.isStaticElement=false;this.elementX=this.elementY=0;var n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g;var y=this;this.click=function(e){y.update(e);var t=n?n(e):false;y.clicked=false;if(r!=null&&e.button===0){y.LClicked=false;return r(e)}else if(i!=null&&e.button===2){y.RClicked=false;return i(e)}return t};this.mousedown=function(e){y.update(e);var t=s?s(e):false;y.clicked=true;if(u!=null&&e.button===0){y.LClicked=true;return u(e)}else if(o!=null&&e.button===1){y.MClicked=true;return o(e)}else if(a!=null&&e.button===2){y.RClicked=true;return a(e)}return t};this.mouseup=function(e){y.update(e);var t=f?f(e):false;y.clicked=false;if(c!=null&&e.button===0){y.LClicked=false;return c(e)}else if(l!=null&&e.button===1){y.MClicked=false;return l(e)}else if(h!=null&&e.button===2){y.RClicked=false;return h(e)}return t};this.doubleclick=function(e){y.update(e);y.clicked=false;y.LClicked=false;return p(e)};this.mousewheel=function(e){y.update(e);y.wheelDir=(e.wheelDelta||e.detail)>0?1:-1;return d(e)};this.mouseover=function(e){y.update(e);y.mouseover=true;return v(e)};this.mouseout=function(e){y.update(e);y.mouseover=false;return m(e)};this.mousemove=function(e){y.update(e);return g(e)};this.removeEventListener=function(e){this.addEventListener(e,null)};this.addEventListener=function(e,y){var b=null;var w=y!==null;switch(e){case"click":n=y;break;case"leftclick":r=y;b="click";break;case"rightclick":i=y;t(w,"contextmenu",this.click);return;break;case"mousedown":s=y;break;case"leftmousedown":u=y;b="mousedown";break;case"middlemousedown":o=y;b="mousedown";break;case"rightmousedown":a=y;b="mousedown";break;case"mouseup":f=y;break;case"leftmouseup":c=y;b="mouseup";break;case"middlemouseup":l=y;b="mouseup";break;case"rightmouseup":h=y;b="mouseup";break;case"doubleclick":p=y;t(w,"dblclick",this.doubleclick);return;break;case"mousewheel":d=y;t(w,"DOMMouseScroll",this.mousewheel);break;case"mouseover":v=y;break;case"mouseout":m=y;break;case"mousemove":g=y;break}var E=b===null?e:b;t(w,E,this[E])};this.init(e)}LibraryMouse.prototype.element=null;LibraryMouse.prototype.init=function(e){this.setElement(e)};LibraryMouse.prototype.addEventContainer=function(e){var t=["click","leftclick","rightclick","mousedown","leftmousedown","middlemousedown","rightmousedown","mouseup","leftmouseup","middlemouseup","rightmouseup","doubleclick","mousewheel","mouseover","mouseout","mousemove"];for(var n=0;n<t;n++){if(e[t[n]])this.addEventListener(t[n],e[t[n]])}};LibraryMouse.prototype.setElement=function(e,t){this.element=e;this.isStaticElement=t===undefined?false:t;if(this.isStaticElement)this.getOffset()};LibraryMouse.prototype.getOffset=function(){var e=0;var t=0;var n=this.element;if(n.offsetParent){do{e+=n.offsetLeft;t+=n.offsetTop}while(n=n.offsetParent)}this.elementX=e;this.elementY=t;return{y:t,x:e}};LibraryMouse.prototype.update=function(e){if(!this.staticElement){this.getOffset(this.element)}this.x=e.clientX-this.elementX;this.y=e.clientY-this.elementY;if(this.x>this.element.offsetWidth)this.x=this.element.offsetWidth;else if(this.x<=0)this.x=0;if(this.y>this.element.offsetHeight)this.y=this.element.offsetHeight;else if(this.y<=0)this.y=0}